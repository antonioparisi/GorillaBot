import re, pickle
import html.parser
h = html.parser.HTMLParser()

file = open('stats.html', 'r')
html = file.read()
file.close()
regex = r'<td\sclass\="text"><a\shref\=".*?">(.*?)</a></td>\s+<td\sclass\="text"><a\shref\=".*?">(.*?)</a></td><td\sclass\="text"><a\shref\=".*?">(.*?)</a></td>'
list = re.findall(regex, html)
langlist = dict()
for entry in list:
    langlist[entry[2]] = entry[0]
    
langlist = {'gv': 'Manx', 'gu': 'Gujarati', 'scn': 'Sicilian', 'wuu': 'Wu', 'cdo': 'Min Dong', 'sco': 'Scots', 'kbd': 'Kabardian Circassian', 'gd': 'Scottish Gaelic', 'jbo': 'Lojban', 'ga': 'Irish', 'gn': 'Guarani', 'gl': 'Galician', 'als': 'Alemannic', 'lg': 'Luganda', 'hak': 'Hakka', 'lb': 'Luxembourgish', 'szl': 'Silesian', 'vep': 'Vepsian', 'la': 'Latin', 'ln': 'Lingala', 'frp': 'Franco-Proven&#231;al/Arpitan', 'tt': 'Tatar', 'tr': 'Turkish', 'cbk-zam': 'Zamboanga Chavacano', 'li': 'Limburgish', 'lv': 'Latvian', 'to': 'Tongan', 'tl': 'Tagalog', 'vec': 'Venetian', 'th': 'Thai', 'ti': 'Tigrinya', 'tg': 'Tajik', 'te': 'Telugu', 'ksh': 'Ripuarian', 'pcd': 'Picard', 'ta': 'Tamil', 'yi': 'Yiddish', 'ceb': 'Cebuano', 'yo': 'Yoruba', 'de': 'German', 'da': 'Danish', 'bxr': 'Buryat (Russia)', 'dz': 'Dzongkha', 'hif': 'Fiji Hindi', 'rm': 'Romansh', 'dv': 'Divehi', 'bar': 'Bavarian', 'vls': 'West Flemish', 'kaa': 'Karakalpak', 'qu': 'Quechua', 'eml': 'Emilian-Romagnol', 'kn': 'Kannada', 'fiu-vro': 'V&#245;ro', 'bpy': 'Bishnupriya Manipuri', 'crh': 'Crimean Tatar', 'mhr': 'Meadow Mari', 'diq': 'Zazaki', 'ho': 'Hiri Motu', 'el': 'Greek', 'eo': 'Esperanto', 'en': 'English', 'zh': 'Chinese', 'mwl': 'Mirandese', 'pms': 'Piedmontese', 'ee': 'Ewe', 'tpi': 'Tok Pisin', 'arz': 'Egyptian Arabic', 'rmy': 'Romani', 'mdf': 'Moksha', 'za': 'Zhuang', 'mh': 'Marshallese', 'arc': 'Aramaic', 'uk': 'Ukrainian', 'eu': 'Basque', 'et': 'Estonian', 'roa-rup': 'Aromanian', 'tet': 'Tetum', 'es': 'Spanish', 'ru': 'Russian', 'roa-tara': 'Tarantino', 'mus': 'Muscogee', 'kl': 'Greenlandic', 'ha': 'Hausa', 'ak': 'Akan', 'lad': 'Ladino', 'bm': 'Bambara', 'new': 'Newar / Nepal Bhasa', 'rn': 'Kirundi', 'ro': 'Romanian', 'dsb': 'Lower Sorbian', 'jv': 'Javanese', 'hsb': 'Upper Sorbian', 'be': 'Belarusian', 'bg': 'Bulgarian', 'be-x-old': 'Belarusian (Tara&#353;kievica)', 'ba': 'Bashkir', 'wa': 'Walloon', 'ast': 'Asturian', 'wo': 'Wolof', 'got': 'Gothic', 'bn': 'Bengali', 'bo': 'Tibetan', 'bh': 'Bihari', 'bi': 'Bislama', 'rue': 'Rusyn', 'map-bms': 'Banyumasan', 'tum': 'Tumbuka', 'br': 'Breton', 'lmo': 'Lombard', 'lez': 'Lezgian', 'ja': 'Japanese', 'om': 'Oromo', 'glk': 'Gilaki', 'ace': 'Acehnese', 'ng': 'Ndonga', 'ilo': 'Ilokano', 'ty': 'Tahitian', 'oc': 'Occitan', 'ltg': 'Latgalian', 'st': 'Sesotho', 'lo': 'Lao', 'krc': 'Karachay-Balkar', 'nds': 'Low Saxon', 'os': 'Ossetian', 'xmf': 'Mingrelian', 'udm': 'Udmurt', 'xh': 'Xhosa', 'ch': 'Chamorro', 'co': 'Corsican', 'nso': 'Northern Sotho', 'simple': 'Simple English', 'bjn': 'Banjar', 'ca': 'Catalan', 'bs': 'Bosnian', 'ce': 'Chechen', 'ts': 'Tsonga', 'cy': 'Welsh', 'ang': 'Anglo-Saxon', 'cs': 'Czech', 'cr': 'Cree', 'cho': 'Choctaw', 'cv': 'Chuvash', 'cu': 'Old Church Slavonic', 've': 'Venda', 'koi': 'Komi-Permyak', 'ps': 'Pashto', 'fj': 'Fijian', 'srn': 'Sranan', 'pt': 'Portuguese', 'sm': 'Samoan', 'ext': 'Extremaduran', 'lt': 'Lithuanian', 'zh-min-nan': 'Min Nan', 'frr': 'North Frisian', 'chr': 'Cherokee', 'pa': 'Punjabi', 'xal': 'Kalmyk', 'chy': 'Cheyenne', 'pi': 'Pali', 'war': 'Waray-Waray', 'pl': 'Polish', 'tk': 'Turkmen', 'hz': 'Herero', 'hy': 'Armenian', 'an': 'Aragonese', 'nrm': 'Norman', 'hr': 'Croatian', 'iu': 'Inuktitut', 'pfl': 'Palatinate German', 'ht': 'Haitian', 'hu': 'Hungarian', 'gan': 'Gan', 'bat-smg': 'Samogitian', 'hi': 'Hindi', 'tw': 'Twi', 'gag': 'Gagauz', 'kg': 'Kongo', 'pnb': 'Western Panjabi', 'bug': 'Buginese', 'kj': 'Kuanyama', 'he': 'Hebrew', 'mg': 'Malagasy', 'fur': 'Friulian', 'uz': 'Uzbek', 'ml': 'Malayalam', 'mo': 'Moldovan', 'mn': 'Mongolian', 'mi': 'Maori', 'ik': 'Inupiak', 'mk': 'Macedonian', 'ur': 'Urdu', 'zea': 'Zeelandic', 'mt': 'Maltese', 'stq': 'Saterland Frisian', 'ms': 'Malay', 'mr': 'Marathi', 'ug': 'Uyghur', 'haw': 'Hawaiian', 'my': 'Burmese', 'ki': 'Kikuyu', 'pih': 'Norfolk', 'aa': 'Afar', 'sah': 'Sakha', 'ss': 'Swati', 'af': 'Afrikaans', 'tn': 'Tswana', 'vi': 'Vietnamese', 'is': 'Icelandic', 'am': 'Amharic', 'it': 'Italian', 'vo': 'Volap&#252;k', 'ii': 'Sichuan Yi', 'ay': 'Aymara', 'as': 'Assamese', 'ar': 'Arabic', 'lbe': 'Lak', 'km': 'Khmer', 'io': 'Ido', 'av': 'Avar', 'ia': 'Interlingua', 'az': 'Azerbaijani', 'ie': 'Interlingue', 'id': 'Indonesian', 'nds-nl': 'Dutch Low Saxon', 'pap': 'Papiamentu', 'ks': 'Kashmiri', 'nl': 'Dutch', 'nn': 'Norwegian (Nynorsk)', 'no': 'Norwegian (Bokm&#229;l)', 'na': 'Nauruan', 'nah': 'Nahuatl', 'ne': 'Nepali', 'lij': 'Ligurian', 'csb': 'Kashubian', 'ny': 'Chichewa', 'nap': 'Neapolitan', 'myv': 'Erzya', 'ig': 'Igbo', 'pag': 'Pangasinan', 'zu': 'Zulu', 'kw': 'Cornish', 'pam': 'Kapampangan', 'nv': 'Navajo', 'sn': 'Shona', 'kab': 'Kabyle', 'fr': 'French', 'mrj': 'Hill Mari', 'zh-yue': 'Cantonese', 'fy': 'West Frisian', 'pnt': 'Pontic', 'fa': 'Persian', 'rw': 'Kinyarwanda', 'ff': 'Fula', 'fi': 'Finnish', 'mzn': 'Mazandarani', 'ab': 'Abkhazian', 'sa': 'Sanskrit', 'zh-classical': 'Classical Chinese', 'fo': 'Faroese', 'bcl': 'Central_Bicolano', 'ka': 'Georgian', 'nov': 'Novial', 'ckb': 'Sorani', 'kk': 'Kazakh', 'sr': 'Serbian', 'sq': 'Albanian', 'ko': 'Korean', 'sv': 'Swedish', 'su': 'Sundanese', 'or': 'Oriya', 'sk': 'Slovak', 'kr': 'Kanuri', 'si': 'Sinhalese', 'sh': 'Serbo-Croatian', 'so': 'Somali', 'kv': 'Komi', 'ku': 'Kurdish', 'sl': 'Slovenian', 'sc': 'Sardinian', 'ky': 'Kirghiz', 'sd': 'Sindhi', 'sg': 'Sango', 'sw': 'Swahili', 'se': 'Northern Sami', 'pdc': 'Pennsylvania German', 'be-tarask': 'Belarusian (Taraškievica), wiki uses be-x-old', 'sgs': 'Samogitian, wiki uses bat-smg', 'vro': 'Võro, wiki uses fiu-vro', 'yue': 'Cantonese, wiki uses zh-yue', 'nan': 'Minnan, wiki uses zh-min-nan', 'lzh': 'Classical Chinese, wiki uses zh-classical'}
print(langlist)
with open('langcodes.pickle', 'wb') as f:
    pickle.dump(langlist, f)